@model IReadOnlyList<Order>
@{
    ViewData["Title"] = "Index";
}

<h1 class="m-2">All Orders</h1>
<partial name="_SearchForm" model="new Order()" />
@if (Model.Count() > 0)
{
    <table class="mt-4 table table-striped table-bordered dt-responsive nowrap text-center">
        <thead>
            <tr >
                <th class="align-middle" rowspan="2">BuyerEmail</th>
                <th class="align-middle" rowspan="2">OrderDate</th>
                <th class="align-middle" colspan="4">Shipping To Address</th>
                <th class="align-middle" rowspan="2">DeliveryMethod</th>
                <th class="align-middle" rowspan="2">Status</th>
                <th class="align-middle" rowspan="2">SubTotal</th>
            </tr>
            <tr>
                <th>Name</th>
                <th>Country</th>    
                <th>City</th>
                <th>Street</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.BuyerEmail</td>
                    <td>@item.OrderDate.Date</td>
                    <td>@item.ShipToAddress.FirstName @item.ShipToAddress.LastName </td>
                    <td>@item.ShipToAddress.Country</td>
                    <td>@item.ShipToAddress.City</td>
                    <td>@item.ShipToAddress.Street</td>
                    <td>@item.DeliveryMethod.ShortName</td>
                    <td>@item.Status</td>
                    <td>@item.SubTotal</td>
                </tr>
            }
        </tbody>
    </table>

}
else
{
    <div class="mt-3 p-3 alert-warning">
        <h2>There is No Orders!</h2>
    </div>
}
<a asp-action="index" class="btn btn-secondary" style="position:absolute; bottom:20px ; right:20px">Back To list</a>

@section Scripts
    {
    <partial name="_ValidationScriptsPartial" />
}
